å•çº¯ä½¿ç”¨ CharacterSet + components + joined çš„å­—ç¬¦ä¸²è¿‡æ»¤å­˜åœ¨ä¸€å®šçš„ç¼ºé™·

```
let iptStr = "1as2â…š3qwe4qwe5ğŸ˜ŠğŸ˜asdä¸‡"
let originSet = CharacterSet(charactersIn: iptStr)
let tsSet = CharacterSet(charactersIn: "1234567890")
let subSet = originSet.subtracting(tsSet)
print(iptStr.components(separatedBy: subSet).joined(separator: ""))
```

```
12345ğŸ˜ŠğŸ˜
```

ç¥å¥‡åœ°ä¿ç•™äº†è¡¨æƒ…

```
"1as2â…š3qwe4qwe5ğŸ˜ŠğŸ˜asdä¸‡".filter { $0.isNumber }.filter { $0.isNumber }
```

```
12â…š345ä¸‡
```

è™½ç„¶èƒ½è¿‡æ»¤è¡¨æƒ…ï¼Œ ä½†æ–¹æ³•æ³¨é‡Šå·²ç»è¯´äº†, æŸäº›å­—ç¬¦ä¹Ÿç®—`Number`, åŸæ¥æå–çº¯æ•°å­—å¹¶ä¸é è°±

# åˆäºŒä¸ºä¸€

### æ–¹æ¡ˆ1

- å…ˆè¿‡`.filter { $0.isNumber }`  
  å†èµ°`CharacterSet.decimalDigits`  
  æœ€åä½¿ç”¨`.joined(separator: "")`æ‹¼æ¥


```
let iptStr = self.filter { $0.isNumber }
let originSet = CharacterSet(charactersIn: iptStr)

let filterSet = originSet.subtracting(CharacterSet.decimalDigits)
let optStr = iptStr.components(separatedBy: filterSet).joined(separator: "")
```

### æ–¹æ¡ˆ2

-  å…ˆè¿‡`.filter { $0.isNumber }`  
   å†èµ°`CharacterSet.decimalDigits`  
   æœ€åä½¿ç”¨`.reduce("", +)`æ‹¼æ¥

```
let iptStr = self.filter { $0.isNumber }
let originSet = CharacterSet(charactersIn: iptStr)

let filterSet = originSet.subtracting(CharacterSet.decimalDigits)
let optStr = iptStr.components(separatedBy: filterSet).reduce("", +)
```

### æ–¹æ¡ˆ3

- ä½¿ç”¨`.reduce`  
  å¯¹`Character`ä½¿ç”¨`.unicodeScalars.filter`

```
let optStr = self.reduce("") { (str, char) -> String in
    let ch = char.unicodeScalars.filter({ CharacterSet.decimalDigits.contains($0) })
    return str + String(ch)
}
```

è§é¬¼, ä¸ºä»€ä¹ˆ`CharacterSet`ä¸èƒ½åƒ`Set`ä¸€æ ·å¤„ç†`Character`

æˆ–è®¸æ˜¯æˆ‘è”¡å§\_(ËŠà½€Ë‹ã€âˆ )_

-

å¤„ç†å­—ç¬¦ä¸²

```
"1as2â…š3qwe4qwe5ğŸ˜ŠğŸ˜asdä¸‡"
```

å¾ªç¯ 100ä¸‡æ¬¡ | è€—è´¹æ—¶é—´ s |
:-----:|:-----:
æ–¹æ¡ˆ1 | 12.445824146270752
æ–¹æ¡ˆ2 | 13.608148097991943
æ–¹æ¡ˆ3 | 22.761229991912842

æˆ‘è§‰å¾—ä¸è¡Œ(å¼ºè¿«ç—‡)

# åˆè€Œä¸ºä¸€

æ—¢ç„¶`CharacterSet`ä¸å¥½ä½¿, è¾£ä¹ˆå°±è‡ªå·±å¼„ä¸ª`Set<Character>`å§

åæ­£éœ€è¦è¿‡æ»¤ç”¨çš„`Set`ä¹Ÿä¸å¤§

```
let tsSet: Set<Character> = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"]
let optStr = "1as2â…š3qwe4qwe5ğŸ˜ŠğŸ˜asdä¸‡".filter { (char) -> Bool in
    return tsSet.contains(char)
}
print(optStr)
```

```
12345
```

è¿è¡Œ100ä¸‡æ¬¡èŠ±è´¹æ—¶é—´8.714035034179688s

è¿˜è¡Œâ‘§
